{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RateResource=()=>{const[resourceId,setResourceId]=useState('');const[rating,setRating]=useState('');// Handle input changes\nconst handleResourceIdChange=e=>{setResourceId(e.target.value);};const handleRatingChange=e=>{setRating(e.target.value);};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();if(!resourceId||!rating){alert('Please fill in all fields.');return;}// Make sure the rating is between 1 and 5\nif(rating<1||rating>5){alert('Rating must be between 1 and 5.');return;}const formData=new FormData();formData.append('resourceId',resourceId);formData.append('rating',rating);try{const response=await fetch('resourceRating',{method:'POST',body:formData,headers:{// Include CSRF token if needed (usually with Django)\n'X-CSRFToken':getCSRFToken()// Replace with your CSRF token retrieval logic\n}});if(response.ok){alert('Rating submitted successfully!');}else{alert('Failed to submit rating.');}}catch(error){console.error('Error submitting rating:',error);alert('An error occurred while submitting the rating.');}};// Example function to get CSRF token (customize as needed)\nconst getCSRFToken=()=>{// Logic to retrieve CSRF token goes here (e.g., from a cookie)\nreturn document.cookie.split(';').find(item=>item.trim().startsWith('csrftoken=')).split('=')[1];};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Rate Resource\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Resource ID\",name:\"resourceId\",value:resourceId,onChange:handleResourceIdChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rating (1-5)\",name:\"rating\",value:rating,onChange:handleRatingChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Rating\"})]})]});};export default RateResource;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","RateResource","resourceId","setResourceId","rating","setRating","handleResourceIdChange","e","target","value","handleRatingChange","handleSubmit","preventDefault","alert","formData","FormData","append","response","fetch","method","body","headers","getCSRFToken","ok","error","console","document","cookie","split","find","item","trim","startsWith","children","onSubmit","type","placeholder","name","onChange"],"sources":["C:/Users/Bono/Desktop/OneDrive/OneDrive/Documents/Documents/3rd yr IT/Semester2/CMPG323/Front-end-NexTech/Front-end/frontend-bananaboat/src/components/rate-resource.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst RateResource = () => {\r\n  const [resourceId, setResourceId] = useState('');\r\n  const [rating, setRating] = useState('');\r\n\r\n  // Handle input changes\r\n  const handleResourceIdChange = (e) => {\r\n    setResourceId(e.target.value);\r\n  };\r\n\r\n  const handleRatingChange = (e) => {\r\n    setRating(e.target.value);\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!resourceId || !rating) {\r\n      alert('Please fill in all fields.');\r\n      return;\r\n    }\r\n\r\n    // Make sure the rating is between 1 and 5\r\n    if (rating < 1 || rating > 5) {\r\n      alert('Rating must be between 1 and 5.');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('resourceId', resourceId);\r\n    formData.append('rating', rating);\r\n\r\n    try {\r\n      const response = await fetch('resourceRating', {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n          // Include CSRF token if needed (usually with Django)\r\n          'X-CSRFToken': getCSRFToken(), // Replace with your CSRF token retrieval logic\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Rating submitted successfully!');\r\n      } else {\r\n        alert('Failed to submit rating.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting rating:', error);\r\n      alert('An error occurred while submitting the rating.');\r\n    }\r\n  };\r\n\r\n  // Example function to get CSRF token (customize as needed)\r\n  const getCSRFToken = () => {\r\n    // Logic to retrieve CSRF token goes here (e.g., from a cookie)\r\n    return document.cookie.split(';').find((item) => item.trim().startsWith('csrftoken=')).split('=')[1];\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Rate Resource</h1>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Resource ID\"\r\n          name=\"resourceId\"\r\n          value={resourceId}\r\n          onChange={handleResourceIdChange}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Rating (1-5)\"\r\n          name=\"rating\"\r\n          value={rating}\r\n          onChange={handleRatingChange}\r\n        />\r\n        <button type=\"submit\">Submit Rating</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RateResource;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}