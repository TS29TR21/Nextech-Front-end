{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateUserRole=()=>{const[userId,setUserId]=useState('');const[role,setRole]=useState('adminUser');// Handle input changes\nconst handleUserIdChange=e=>setUserId(e.target.value);const handleRoleChange=e=>setRole(e.target.value);// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();const roleData={user_id:userId,role};try{const response=await fetch('updateRole',{method:'POST',headers:{'Content-Type':'application/json','X-CSRFToken':getCSRFToken()// Adjust based on your CSRF token implementation\n},body:JSON.stringify(roleData)});if(response.ok){alert('User role updated successfully!');// Optionally, clear the form or redirect\nsetUserId('');setRole('adminUser');// Reset to default role\n}else{alert('Failed to update user role. Please try again.');}}catch(error){console.error('Error updating user role:',error);alert('An error occurred while updating the user role.');}};// Example function to get CSRF token (customize as needed)\nconst getCSRFToken=()=>{return document.cookie.split(';').find(item=>item.trim().startsWith('csrftoken=')).split('=')[1];};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"This Update User Role page\"})}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"User ID:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User ID\",name:\"user_id\",value:userId,onChange:handleUserIdChange})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Role:\",/*#__PURE__*/_jsxs(\"select\",{id:\"user_role\",name:\"role\",value:role,onChange:handleRoleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"adminUser\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"moderatorUser\",children:\"Moderator\"}),/*#__PURE__*/_jsx(\"option\",{value:\"educatorUser\",children:\"Educator\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"Update\",value:\"Update\"})]})})]});};export default UpdateUserRole;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UpdateUserRole","userId","setUserId","role","setRole","handleUserIdChange","e","target","value","handleRoleChange","handleSubmit","preventDefault","roleData","user_id","response","fetch","method","headers","getCSRFToken","body","JSON","stringify","ok","alert","error","console","document","cookie","split","find","item","trim","startsWith","children","onSubmit","type","placeholder","name","onChange","id"],"sources":["C:/Users/Bono/Desktop/OneDrive/OneDrive/Documents/Documents/3rd yr IT/Semester2/CMPG323/Front-end-NexTech/Front-end/frontend-bananaboat/src/components/update-user-role.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst UpdateUserRole = () => {\r\n  const [userId, setUserId] = useState('');\r\n  const [role, setRole] = useState('adminUser');\r\n\r\n  // Handle input changes\r\n  const handleUserIdChange = (e) => setUserId(e.target.value);\r\n  const handleRoleChange = (e) => setRole(e.target.value);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const roleData = {\r\n      user_id: userId,\r\n      role,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('updateRole', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-CSRFToken': getCSRFToken(), // Adjust based on your CSRF token implementation\r\n        },\r\n        body: JSON.stringify(roleData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('User role updated successfully!');\r\n        // Optionally, clear the form or redirect\r\n        setUserId('');\r\n        setRole('adminUser'); // Reset to default role\r\n      } else {\r\n        alert('Failed to update user role. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating user role:', error);\r\n      alert('An error occurred while updating the user role.');\r\n    }\r\n  };\r\n\r\n  // Example function to get CSRF token (customize as needed)\r\n  const getCSRFToken = () => {\r\n    return document.cookie.split(';').find(item => item.trim().startsWith('csrftoken=')).split('=')[1];\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <header>\r\n        <center>This Update User Role page</center>\r\n      </header>\r\n      <center>\r\n        <form onSubmit={handleSubmit}>\r\n          <p>\r\n            User ID:\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"User ID\"\r\n              name=\"user_id\"\r\n              value={userId}\r\n              onChange={handleUserIdChange}\r\n            />\r\n          </p>\r\n          \r\n          <p>\r\n            Role:\r\n            <select id=\"user_role\" name=\"role\" value={role} onChange={handleRoleChange}>\r\n              <option value=\"adminUser\">Admin</option>\r\n              <option value=\"moderatorUser\">Moderator</option>\r\n              <option value=\"educatorUser\">Educator</option>\r\n            </select>\r\n          </p>\r\n\r\n          <br />\r\n          <input type=\"submit\" name=\"Update\" value=\"Update\" />\r\n        </form>\r\n      </center>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateUserRole;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}