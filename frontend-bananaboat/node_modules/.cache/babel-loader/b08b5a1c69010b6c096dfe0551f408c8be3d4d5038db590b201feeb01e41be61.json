{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResourceReport=()=>{const[resourceId,setResourceId]=useState('');const[userId,setUserId]=useState('');const[reportComplaint,setReportComplaint]=useState('');// Handle input changes\nconst handleResourceIdChange=e=>setResourceId(e.target.value);const handleUserIdChange=e=>setUserId(e.target.value);const handleReportComplaintChange=e=>setReportComplaint(e.target.value);// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();const reportData={resourceId,userId,reportComplaint};try{const response=await fetch('resourceReport',{method:'POST',headers:{'Content-Type':'application/json','X-CSRFToken':getCSRFToken()// Adjust based on your CSRF token implementation\n},body:JSON.stringify(reportData)});if(response.ok){alert('Report submitted successfully!');// Optionally, clear the form or redirect\n}else{alert('Failed to submit report. Please try again.');}}catch(error){console.error('Error submitting report:',error);alert('An error occurred while submitting the report.');}};// Example function to get CSRF token (customize as needed)\nconst getCSRFToken=()=>{return document.cookie.split(';').find(item=>item.trim().startsWith('csrftoken=')).split('=')[1];};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsx(\"center\",{children:\"This is the login page\"})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:()=>window.location.href='/',children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Back\",name:\"backButton\"})})}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"table\",{border:\"1\",style:{margin:'auto'},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Resource Id\",name:\"resourceId\",value:resourceId,onChange:handleResourceIdChange})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Report User\",name:\"userId\",value:userId,onChange:handleUserIdChange})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Resource Complaint\",name:\"reportComplaint\",value:reportComplaint,onChange:handleReportComplaintChange})})}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{align:\"center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",name:\"reportBtn\",value:\"Submit Report\"})})})]})})})]});};export default ResourceReport;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ResourceReport","resourceId","setResourceId","userId","setUserId","reportComplaint","setReportComplaint","handleResourceIdChange","e","target","value","handleUserIdChange","handleReportComplaintChange","handleSubmit","preventDefault","reportData","response","fetch","method","headers","getCSRFToken","body","JSON","stringify","ok","alert","error","console","document","cookie","split","find","item","trim","startsWith","children","onSubmit","window","location","href","type","name","border","style","margin","placeholder","onChange","align"],"sources":["C:/Users/Bono/Desktop/OneDrive/OneDrive/Documents/Documents/3rd yr IT/Semester2/CMPG323/Front-end-NexTech/Front-end/frontend-bananaboat/src/components/resource-report.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst ResourceReport = () => {\r\n  const [resourceId, setResourceId] = useState('');\r\n  const [userId, setUserId] = useState('');\r\n  const [reportComplaint, setReportComplaint] = useState('');\r\n\r\n  // Handle input changes\r\n  const handleResourceIdChange = (e) => setResourceId(e.target.value);\r\n  const handleUserIdChange = (e) => setUserId(e.target.value);\r\n  const handleReportComplaintChange = (e) => setReportComplaint(e.target.value);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const reportData = {\r\n      resourceId,\r\n      userId,\r\n      reportComplaint,\r\n    };\r\n\r\n    try {\r\n      const response = await fetch('resourceReport', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-CSRFToken': getCSRFToken(), // Adjust based on your CSRF token implementation\r\n        },\r\n        body: JSON.stringify(reportData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        alert('Report submitted successfully!');\r\n        // Optionally, clear the form or redirect\r\n      } else {\r\n        alert('Failed to submit report. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error submitting report:', error);\r\n      alert('An error occurred while submitting the report.');\r\n    }\r\n  };\r\n\r\n  // Example function to get CSRF token (customize as needed)\r\n  const getCSRFToken = () => {\r\n    return document.cookie.split(';').find(item => item.trim().startsWith('csrftoken=')).split('=')[1];\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <header>\r\n        <center>This is the login page</center>\r\n      </header>\r\n\r\n      {/* Back Button Form */}\r\n      <form onSubmit={() => (window.location.href = '/')}>\r\n        <center>\r\n          <input type=\"submit\" value=\"Back\" name=\"backButton\" />\r\n        </center>\r\n      </form>\r\n\r\n      {/* Resource Report Form */}\r\n      <form onSubmit={handleSubmit}>\r\n        <table border=\"1\" style={{ margin: 'auto' }}>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Resource Id\"\r\n                  name=\"resourceId\"\r\n                  value={resourceId}\r\n                  onChange={handleResourceIdChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Report User\"\r\n                  name=\"userId\"\r\n                  value={userId}\r\n                  onChange={handleUserIdChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Resource Complaint\"\r\n                  name=\"reportComplaint\"\r\n                  value={reportComplaint}\r\n                  onChange={handleReportComplaintChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td align=\"center\">\r\n                <input type=\"submit\" name=\"reportBtn\" value=\"Submit Report\" />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResourceReport;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}